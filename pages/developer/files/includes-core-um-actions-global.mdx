import Link from 'next/link'
import { Tabs, Tab, Callout } from 'nextra-theme-docs'


<div class="phpdocumentor-element -file">
    ## um-actions-global.php

        

    <section class="phpdocumentor-functions">
### Functions
<div class="phpdocumentor-element -function - ">
 #### um_add_form_identifier()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-actions-global.html#source-view.9">includes/core/um-actions-global.php</Link> : <span class="phpdocumentor-element-found-in__line">9</span>
</div>

<div class="phpdocumentor-summary">
Adds a form identifier to form
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_add_form_identifier</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$args`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$args`</span>
                : <span class="phpdocumentor-signature__argument__return-type"></span>
                            
           
                 

           
            </dl>



<div className="py-4"></div>

</div>
<div class="phpdocumentor-element -function - ">
 #### um_add_security_checks()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-actions-global.html#source-view.22">includes/core/um-actions-global.php</Link> : <span class="phpdocumentor-element-found-in__line">22</span>
</div>

<div class="phpdocumentor-summary">
Adds a spam timestamp
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_add_security_checks</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$args`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$args`</span>
                : <span class="phpdocumentor-signature__argument__return-type"></span>
                            
           
                 

           
            </dl>



<div className="py-4"></div>

</div>
<div class="phpdocumentor-element -function - ">
 #### um_add_form_honeypot_css()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-actions-global.html#source-view.41">includes/core/um-actions-global.php</Link> : <span class="phpdocumentor-element-found-in__line">41</span>
</div>

<div class="phpdocumentor-summary">
Makes the honeypot invisible
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_add_form_honeypot_css</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="py-4"></div>

</div>
<div class="phpdocumentor-element -function - ">
 #### um_add_form_honeypot_js()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-actions-global.html#source-view.55">includes/core/um-actions-global.php</Link> : <span class="phpdocumentor-element-found-in__line">55</span>
</div>

<div class="phpdocumentor-summary">
Empty the honeypot value
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_add_form_honeypot_js</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="py-4"></div>

</div>
</section>

       ```php showLineNumbers=true copy
       <?php if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly


/**
 * Adds a form identifier to form
 *
 * @param $args
 */
function um_add_form_identifier( $args ) {
	?>
		<input type="hidden" name="form_id" id="form_id_<?php echo esc_attr( $args['form_id'] ); ?>" value="<?php echo esc_attr( $args['form_id'] ); ?>" />
	<?php
}
add_action( 'um_after_form_fields', 'um_add_form_identifier' );


/**
 * Adds a spam timestamp
 *
 * @param $args
 */
function um_add_security_checks( $args ) {
	if ( is_admin() ) {
		return;
	} ?>

	<p class="<?php echo esc_attr( UM()->honeypot ); ?>_name">
		<label for="<?php echo esc_attr( UM()->honeypot ) . '_' . $args['form_id']; ?>"><?php _e( 'Only fill in if you are not human' ); ?></label>
		<input type="hidden" name="<?php echo esc_attr( UM()->honeypot ); ?>" id="<?php echo esc_attr( UM()->honeypot ) . '_' . $args['form_id']; ?>" class="input" value="" size="25" autocomplete="off" />
	</p>

	<?php
}
add_action( 'um_after_form_fields', 'um_add_security_checks' );
add_action( 'um_account_page_hidden_fields', 'um_add_security_checks' );


/**
 * Makes the honeypot invisible
 */
function um_add_form_honeypot_css() {
	?>
		<style type="text/css">
			.<?php echo esc_attr( UM()->honeypot ); ?>_name {
				display: none !important;
			}
		</style>
	<?php
}
add_action( 'wp_head', 'um_add_form_honeypot_css' );

/**
 * Empty the honeypot value
 */
function um_add_form_honeypot_js() {
	?>
		<script type="text/javascript">
			jQuery( window ).on( 'load', function() {
				jQuery('input[name="<?php echo esc_js( UM()->honeypot ); ?>"]').val('');
			});
		</script>
	<?php
}
add_action( 'wp_footer', 'um_add_form_honeypot_js', 99999999999999999 );
       ```
</div>
