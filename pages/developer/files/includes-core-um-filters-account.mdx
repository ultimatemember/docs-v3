import Link from 'next/link'
import { Tabs, Tab, Callout } from 'nextra-theme-docs'


<div class="phpdocumentor-element -file">
    ## um-filters-account.php

        

    <section class="phpdocumentor-functions">
### Functions
<div class="phpdocumentor-element -function - ">
 #### um_account_disable_name_fields()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-filters-account.html#source-view.10">includes/core/um-filters-account.php</Link> : <span class="phpdocumentor-element-found-in__line">10</span>
</div>

<div class="phpdocumentor-summary">
Disables first and last name fields in account page
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_account_disable_name_fields</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$fields`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$fields`</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            
           
                 

           
            </dl>


    ##### Tags
     
    <div class="phpdocumentor-tag-list">
                                   
                        </div>

<div className="py-4"></div>

</div>
<div class="phpdocumentor-element -function - ">
 #### um_account_sanitize_data()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-filters-account.html#source-view.32">includes/core/um-filters-account.php</Link> : <span class="phpdocumentor-element-found-in__line">32</span>
</div>

<div class="phpdocumentor-summary">
Sanitize inputs on Account update
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_account_sanitize_data</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$data`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$data`</span>
                : <span class="phpdocumentor-signature__argument__return-type"></span>
                            
           
                 

           
            </dl>



<div className="py-4"></div>

</div>
<div class="phpdocumentor-element -function - ">
 #### um_account_profile_noindex_value()
       

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-core-um-filters-account.html#source-view.55">includes/core/um-filters-account.php</Link> : <span class="phpdocumentor-element-found-in__line">55</span>
</div>

<div class="phpdocumentor-summary">
Fix for the account field &quot;Avoid indexing my profile by search engines&quot;
</div>


    <span class="phpdocumentor-signature__visibility"></span>
                <span class="phpdocumentor-signature__name">um_account_profile_noindex_value</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">bool&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$value`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">int</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$value`</span>
                : <span class="phpdocumentor-signature__argument__return-type">bool</span>
                            
           
                 

           
            </dl>


    ##### Tags
     
    <div class="phpdocumentor-tag-list">
                                   
                        </div>

<div className="py-4"></div>

</div>
</section>

       ```php showLineNumbers=true copy
       <?php if ( ! defined( 'ABSPATH' ) ) exit; // Exit if accessed directly


/**
 * Disables first and last name fields in account page
 * @param  array $fields
 * @return array
 * @uses  um_get_field__first_name, um_get_field__last_name
 */
function um_account_disable_name_fields( $fields ){
	if ( ! UM()->options()->get( 'account_name_disable' ) ) {
		return $fields;
	}

	if ( um_is_core_page( 'account' ) ) {
		$fields['disabled'] = 'disabled="disabled"';
	}

	return $fields;
}
add_filter( 'um_get_field__first_name', 'um_account_disable_name_fields', 10 ,1 );
add_filter( 'um_get_field__last_name', 'um_account_disable_name_fields', 10 ,1 );


/**
 * Sanitize inputs on Account update
 *
 * @param $data
 *
 * @return mixed
 */
function um_account_sanitize_data( $data ) {
	foreach ( $data as $key => $value ) {
		if ( is_array( $value ) ) {
			$data[ $key ] = array_filter( $value, function( $var ) {
				$var = trim( esc_html( strip_tags( $var ) ) );
				return $var;
			});
		} else {
			$data[ $key ] = trim( esc_html( strip_tags( $value ) ) );
		}
	}

	return $data;
}
add_filter( 'um_account_pre_updating_profile_array', 'um_account_sanitize_data', 10, 1 );


/**
 * Fix for the account field "Avoid indexing my profile by search engines"
 * @since  2.1.16
 * @param  bool   $value
 * @return int
 */
function um_account_profile_noindex_value( $value ) {
	if ( ! is_numeric( $value ) ) {
		$value = (int) get_user_meta( um_profile_id(), 'profile_noindex', true );
	}
	return $value;
}
add_filter( 'um_profile_profile_noindex_empty__filter', 'um_account_profile_noindex_value' );
       ```
</div>
