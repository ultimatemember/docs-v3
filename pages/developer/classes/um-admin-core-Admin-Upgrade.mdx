import Link from 'next/link'
import { Tabs, Tab, Callout } from 'nextra-theme-docs'


<div class="phpdocumentor-element -class">

    # Admin_Upgrade

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs 2">
                                   
                                   
                                   
                            </ul>
        </div>
    
    
    


<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.18">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">18</span>
</div>

<div class="phpdocumentor-summary">
Class Admin_Upgrade
</div>

This class handles all functions that changes data structures and moving files
















<section class="phpdocumentor-properties">
### Properties
    
    <div class="phpdocumentor-element -property -public">
<h4 class="phpdocumentor-element__name" id="property_necessary_packages">
    `necessary_packages`
    <a href="#property_necessary_packages" class="headerlink"><i class="fas fa-link"></i></a>
    <span class="phpdocumentor-element__modifiers">
                    </span>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.32">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">32</span>
</div>


<span class="phpdocumentor-signature__visibility">public</span>
<span class="phpdocumentor-signature__type">mixed</span>
<span class="phpdocumentor-signature__name">`$necessary_packages`</span>





</div>
    <div class="phpdocumentor-element -property -public">
<h4 class="phpdocumentor-element__name" id="property_packages_dir">
    `packages_dir`
    <a href="#property_packages_dir" class="headerlink"><i class="fas fa-link"></i></a>
    <span class="phpdocumentor-element__modifiers">
                    </span>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.38">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">38</span>
</div>


<span class="phpdocumentor-signature__visibility">public</span>
<span class="phpdocumentor-signature__type">string</span>
<span class="phpdocumentor-signature__name">`$packages_dir`</span>






</div>
    <div class="phpdocumentor-element -property -public">
<h4 class="phpdocumentor-element__name" id="property_update_packages">
    `update_packages`
    <a href="#property_update_packages" class="headerlink"><i class="fas fa-link"></i></a>
    <span class="phpdocumentor-element__modifiers">
                    </span>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.31">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">31</span>
</div>


<span class="phpdocumentor-signature__visibility">public</span>
<span class="phpdocumentor-signature__type">mixed</span>
<span class="phpdocumentor-signature__name">`$update_packages`</span>





</div>
    <div class="phpdocumentor-element -property -public">
<h4 class="phpdocumentor-element__name" id="property_update_versions">
    `update_versions`
    <a href="#property_update_versions" class="headerlink"><i class="fas fa-link"></i></a>
    <span class="phpdocumentor-element__modifiers">
                    </span>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.30">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">30</span>
</div>


<span class="phpdocumentor-signature__visibility">public</span>
<span class="phpdocumentor-signature__type">mixed</span>
<span class="phpdocumentor-signature__name">`$update_versions`</span>






</div>
    <div class="phpdocumentor-element -property -protected-static">
<h4 class="phpdocumentor-element__name" id="property_instance">
    `instance`
    <a href="#property_instance" class="headerlink"><i class="fas fa-link"></i></a>
    <span class="phpdocumentor-element__modifiers">
                    </span>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.24">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">24</span>
</div>


<span class="phpdocumentor-signature__visibility">protected</span>
<span class="phpdocumentor-signature__static">static</span><span class="phpdocumentor-signature__type">null</span>
<span class="phpdocumentor-signature__name">`$instance`</span>
 = <span class="phpdocumentor-signature__default-value">null</span>





</div>
</section>

    <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="#methods" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method___construct">
    `__construct()`
    <a href="#method___construct" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.63">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">63</span>
</div>

<div class="phpdocumentor-summary">
Admin_Upgrade constructor.
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_admin_menu">
    `admin_menu()`
    <a href="#method_admin_menu" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.236">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">236</span>
</div>

<div class="phpdocumentor-summary">
Add Upgrades admin menu
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">admin_menu</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_ajax_get_packages">
    `ajax_get_packages()`
    <a href="#method_ajax_get_packages" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.367">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">367</span>
</div>



    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">ajax_get_packages</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>





<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_ajax_run_package">
    `ajax_run_package()`
    <a href="#method_ajax_run_package" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.353">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">353</span>
</div>



    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">ajax_run_package</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>





<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_get_extension_upgrades">
    `get_extension_upgrades()`
    <a href="#method_get_extension_upgrades" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.142">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">142</span>
</div>



    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">get_extension_upgrades</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_get_packages">
    `get_packages()`
    <a href="#method_get_packages" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.183">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">183</span>
</div>

<div class="phpdocumentor-summary">
Get all upgrade packages
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">get_packages</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_in_plugin_update_message">
    `in_plugin_update_message()`
    <a href="#method_in_plugin_update_message" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.86">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">86</span>
</div>

<div class="phpdocumentor-summary">
Function for major updates
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">in_plugin_update_message</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$args`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$args`</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            
           
                 
           
            </dl>



<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_init_packages_ajax">
    `init_packages_ajax()`
    <a href="#method_init_packages_ajax" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.206">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">206</span>
</div>



    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">init_packages_ajax</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_init_packages_ajax_handlers">
    `init_packages_ajax_handlers()`
    <a href="#method_init_packages_ajax_handlers" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.223">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">223</span>
</div>



    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">init_packages_ajax_handlers</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public-static ">
<h4 class="phpdocumentor-element__name" id="method_instance">
    `instance()`
    <a href="#method_instance" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.51">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">51</span>
</div>

<div class="phpdocumentor-summary">
Main Admin_Upgrade Instance
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">instance</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">classes/um-admin-core-Admin-Upgrade.html</span>

Ensures only one instance of UM is loaded or can be loaded.




    ##### Tags
     
    <div class="phpdocumentor-tag-list">
                                   
                                               
                                               
                        </div>

<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">classes/um-admin-core-Admin-Upgrade.html</span> &mdash; <span class="phpdocumentor-return-value__description">- Main instance</span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_need_run_upgrades">
    `need_run_upgrades()`
    <a href="#method_need_run_upgrades" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.162">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">162</span>
</div>

<div class="phpdocumentor-summary">
Get array of necessary upgrade packages
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">need_run_upgrades</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_set_update_versions">
    `set_update_versions()`
    <a href="#method_set_update_versions" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.378">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">378</span>
</div>

<div class="phpdocumentor-summary">
Parse packages dir for packages files
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">set_update_versions</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_upgrade_page">
    `upgrade_page()`
    <a href="#method_upgrade_page" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.244">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">244</span>
</div>

<div class="phpdocumentor-summary">
Upgrade Menu Callback Page
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">upgrade_page</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>






<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
                    <div className="phpdocumentor-element -method -public ">
<h4 class="phpdocumentor-element__name" id="method_version_compare_sort">
    `version_compare_sort()`
    <a href="#method_version_compare_sort" class="headerlink"><i class="fas fa-link"></i></a>
</h4>

<div class="phpdocumentor-element-found-in">
    <Link href="../files/includes-admin-core-class-admin-upgrade.html#source-view.405">includes/admin/core/class-admin-upgrade.php</Link> : <span class="phpdocumentor-element-found-in__line">405</span>
</div>

<div class="phpdocumentor-summary">
Sort versions by version compare function
</div>


    <span class="phpdocumentor-signature__visibility">public</span>
                <span class="phpdocumentor-signature__name">version_compare_sort</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$a`</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">&nbsp;</span><span class="phpdocumentor-signature__argument__name">`$b`</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span>



    ##### Parameters
    <dl class="phpdocumentor-argument-list">
                    
                <span class="phpdocumentor-signature__argument__name">`$a`</span>
                : <span class="phpdocumentor-signature__argument__return-type"></span>
                            
           
                 

           
                    
                <span class="phpdocumentor-signature__argument__name">`$b`</span>
                : <span class="phpdocumentor-signature__argument__return-type"></span>
                            
           
                 

           
            </dl>



<div className="text-bold">Return values</div>
<span class="phpdocumentor-signature__response_type">mixed</span> &mdash; <span class="phpdocumentor-return-value__description"></span><div className="py-4"></div>

</div>
            </section>

</div>
